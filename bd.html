<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Happy Birthday ğŸ’œ</title>
<style>
:root {
  --bg: #0a0014;
  --accent: #9d4edd;
  --accent2: #e0aaff;
  --text: #f5f3ff;
  --card-bg: rgba(25, 10, 40, 0.9);
  --font-main: "Poppins", system-ui, sans-serif;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: radial-gradient(circle at top, #1a0033, var(--bg));
  overflow: hidden;
  color: var(--text);
  font-family: var(--font-main);
}

/* ğŸŒ  Star field */
.stars {
  position: fixed;
  inset: 0;
  background: transparent;
  overflow: hidden;
  z-index: -1;
}
.star {
  position: absolute;
  width: 2px;
  height: 2px;
  background: var(--accent2);
  border-radius: 50%;
  opacity: 0.6;
  animation: twinkle 3s ease-in-out infinite, drift 60s linear infinite;
}
@keyframes twinkle {
  0%,100% {opacity: 0.2;}
  50% {opacity: 1;}
}
@keyframes drift {
  0% {transform: translateY(0);}
  100% {transform: translateY(100vh);}
}

/* ğŸ“œ Card */
.container {
  width: min(420px, 92vw);
  padding: 22px;
  border-radius: 24px;
  background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
  backdrop-filter: blur(18px);
  box-shadow: 0 18px 60px rgba(50,0,90,0.8);
  text-align: center;
}

.title {
  font-size: 26px;
  font-weight: 700;
  color: var(--accent2);
  text-shadow: 0 0 8px rgba(160, 100, 255, 0.8);
}
.sub { font-size: 13px; margin-top: 4px; color: rgba(255,255,255,0.7); }

/* ğŸ’Œ Envelope */
.envelope-wrap { margin-top: 18px; display: flex; justify-content: center; }
.envelope {
  position: relative;
  width: 200px;
  height: 120px;
  background: var(--accent);
  border-radius: 10px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.4);
  cursor: pointer;
  transition: transform 0.5s ease;
}
.envelope:hover { transform: translateY(-3px) scale(1.03); }
.flap {
  position: absolute; inset: 0;
  background: linear-gradient(to bottom right, var(--accent2), var(--accent));
  clip-path: polygon(0 0, 100% 0, 50% 62%);
  transform-origin: top;
  transition: transform 0.5s ease;
  z-index: 3;
}
.paper {
  position: absolute; inset: 12px;
  background: #f5f3ff;
  border-radius: 8px;
  transform: translateY(40%);
  opacity: 0;
  transition: all 0.6s ease;
  display: flex; align-items: center; justify-content: center;
  color: #1a0033; font-weight: 600;
}
.envelope.open .flap { transform: rotateX(180deg); }
.envelope.open .paper { transform: translateY(-40%); opacity: 1; }

/* ğŸ‰ Message */
.message {
  margin-top: 22px;
  font-size: 0.9rem;
  line-height: 1.6;
  color: rgba(255,255,255,0.9);
  min-height: 80px;
  opacity: 0;
  transform: translateY(10px);
  transition: all 0.6s ease;
  white-space: pre-line;
}
.message.show { opacity: 1; transform: translateY(0); }
.signature {
  margin-top: 16px;
  font-size: 0.8rem;
  color: rgba(255,255,255,0.7);
  text-align: right;
  opacity: 0;
  transform: translateY(6px);
  transition: all 0.5s ease 0.1s;
}
.signature.show { opacity: 1; transform: translateY(0); }

/* ğŸµ Music button */
#music-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: var(--accent);
  border: none;
  color: white;
  border-radius: 50%;
  width: 48px; height: 48px;
  font-size: 1.3rem;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  transition: all 0.3s ease;
  z-index: 10;
}
#music-btn:hover { transform: scale(1.1); background: var(--accent2); color: var(--bg); }
</style>
</head>
<body>

<div class="stars" id="stars"></div>

<div class="container">
  <div class="title">Happy Birthday, <span id="name">[Name]</span> ğŸ’œ</div>
  <div class="sub">Tap the envelope â€” I made this for you.</div>

  <div class="envelope-wrap">
    <div class="envelope" id="envelope">
      <div class="flap"></div>
      <div class="paper"><span>Click to reveal your message ğŸ</span></div>
    </div>
  </div>

  <div class="message" id="message"></div>
  <div class="signature" id="signature"></div>
</div>

<!-- ğŸ¶ Background Music -->
<audio id="bg-music" src="https://cdn.pixabay.com/download/audio/2023/04/02/audio_0c5d7f67d7.mp3?filename=purple-dream-120866.mp3" loop></audio>
<button id="music-btn">ğŸµ</button>

<script>
// âœ¨ PERSONALIZE
const receiverName = "Hoor";
const mainMessage = `Happy Birthday ğŸ’œ

I hope you didn't really think I had nothing else
prepared for you. This is what my "IT" major can do.

Hereâ€™s a little galaxy I made for you,
where everything glows in your color.

Thank you for being you, and I wish you 
the same warmth and happiness you bring 
to the world.`;
const fromSignature = "- From F";

document.getElementById("name").textContent = receiverName;

// Envelope + typewriter
const envelope = document.getElementById("envelope");
const messageEl = document.getElementById("message");
const sigEl = document.getElementById("signature");
const music = document.getElementById("bg-music");
const musicBtn = document.getElementById("music-btn");
let opened = false, playing = false;

envelope.addEventListener("click", () => {
  if (opened) return;
  opened = true;
  envelope.classList.add("open");
  setTimeout(() => {
    typeText(messageEl, mainMessage, () => {
      sigEl.textContent = fromSignature;
      sigEl.classList.add("show");
    });
    if (!playing) { music.play(); playing = true; musicBtn.textContent = "â¸"; }
  }, 550);
});

musicBtn.addEventListener("click", () => {
  if (!playing) { music.play(); playing = true; musicBtn.textContent = "â¸"; }
  else { music.pause(); playing = false; musicBtn.textContent = "ğŸµ"; }
});

function typeText(element, text, callback) {
  element.classList.add("show");
  let i = 0;
  (function step() {
    if (i <= text.length) {
      element.textContent = text.slice(0, i);
      i++;
      setTimeout(step, 40);
    } else if (callback) callback();
  })();
}

/* ğŸŒ  generate stars dynamically */
const starField = document.getElementById("stars");
for (let i = 0; i < 80; i++) {
  const s = document.createElement("div");
  s.className = "star";
  s.style.top = Math.random() * 100 + "vh";
  s.style.left = Math.random() * 100 + "vw";
  s.style.animationDelay = Math.random() * 3 + "s";
  s.style.animationDuration = 2 + Math.random() * 3 + "s";
  s.style.width = s.style.height = Math.random() > 0.7 ? "3px" : "2px";
  starField.appendChild(s);
}
</script>
</body>
</html>
